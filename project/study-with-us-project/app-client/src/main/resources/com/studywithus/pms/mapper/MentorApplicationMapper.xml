<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MentorApplicationMapper">

	<resultMap type="MentorApplication" id="MentorApplicationMap">
		<id column="member_no" property="no" />
		<result column="introduction" property="selfIntroduction" />
		<result column="subject" property="chargeStudySubject" />
		<result column="apply_date" property="registeredDate" />
		<result column="staus" property="status" />
		<result column="remarks" property="remarks" />
	</resultMap>

	<select id="findAll" resultMap="MentorApplicationMapper">
		select
			mt.member_no,
			mt.introduction,
			mt.subject,
			mt.apply_date,
			mt.status,
			mt.remarks,
			m.member_no,
			m.name,
			m.email
		from
		  mentor mt
		inner join member m on mt.member_no=m.member_no
		order by mt.member_no desc
	</select>

	<select id="findByNo" resultMap="MemberMap" parameterType="int">
		select
			mt.member_no,
			mt.introduction,
			mt.subject,
			mt.apply_date,
			mt.status,
			mt.remarks,
			m.member_no,
			m.name,
			m.email
		from
		  mentor mt
		inner join member m on mt.member_no=m.member_no
		where mt.member_no=#{no}
	</select>

	<insert id="insert" parameterType="member">
		insert into mentor(member_no,introduction,subject)
		values(#{no},#{selfIntroduction},#{chargeStudySubject})
	</insert>

	<update id="update" parameterType="member">
		update mentor set
			introduction=#{selfIntroduction},
			subject=#{chargeStudySubject},
			status=#{status},
			remarks=#{remarks},
			member_no=#{no}
		where member_no=#{no}
	</update>

</mapper>







