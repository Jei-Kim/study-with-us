<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="StudyMapper">
  
  <resultMap type="Study" id="StudyMap">
    <id column="study_no" property="no"/> 
    <result column="title" property="title"/>
    <result column="content" property="content"/>
    <result column="area" property="area"/>
    <result column="register_date" property="registeredDate"/>
    <result column="view_count" property="viewCount"/>
    <result column="max_member" property="maxMembers"/>
    <result column="start_date" property="startDate"/>
    <result column="end_date" property="endDate"/>
    <result column="del_status" property="registeredDate"/>
    <result column="price" property="price"/>
    <result column="status" property="studyStatus"/>   
  </resultMap>
  
  <select id="findAll" resultMap="StudyMap">
    select 
      study_no,
      title,
      content,
      area,
      register_date,
      view_count,
      max_member,
      start_date,
      end_date,
      del_status,
      price,
      status
    from 
      study
    order by 
      study_no asc
  </select>
  
  <!-- contains 같은 개념 있는지 찾아보고 적용하기 -->
   <select id="findByKeyword" resultMap="StudyMap" parameterType="string">
  select 
      study_no,
      title,
      content,
      area,
      register_date,
      view_count,
      max_member,
      start_date,
      end_date,
      del_status,
      price,
      status
  from study
  where title=#{keyword}
   </select>
            
  <select id="findByNo" resultMap="StudyMap" parameterType="int">
    select 
      study_no,
      title,
      content,
      area,
      register_date,
      view_count,
      max_member,
      start_date,
      end_date,
      del_status,
      price,
      status
    from 
      study
    where 
       study_no=#{no}
  </select>


	<insert id="insert" parameterType="study">
	 insert into 
	   study(title,content,area,register_date,view_count,max_member,start_date,end_date,del_status,price,status)
	  values(#{},)
	</insert>
	  
	<update id="update" parameterType="study">
	 update study set
      title=#{title},
      content=#{content},
      area=#{area},
      register_date=#{register_date},
      view_count=#{view_count},
      max_member=#{max_member},
      start_date=#{start_date},
      end_date=#{end_date},
      del_status=#{del_status},
      price=#{price},
      status=#{status}     
   where study_no=#{no}  
  </update>
  
  <delete id="delete" parameterType="int">
    delete from study
    where study_no=#{no}
  </delete>
  
</mapper>







